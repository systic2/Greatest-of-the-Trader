# MVP 사용자 플로우 초안

## 1. 최초 온보딩
1. 앱 실행 → 개인정보 및 위치/카메라 권한 요청.
2. 안전 수칙 요약 화면(전방주시, 세이프존 안내) → 동의 후 메인 진입.
3. 초기 튜토리얼 퀘스트 시작(가까운 세이프존 방문 유도).

## 2. 탐험/지도 루프
1. 월드맵 뷰: 현재 위치, 주변 세이프존, 위험구역 표시.
2. 플레이어 이동 → 기기 센서가 `Idle/Caution/Danger` 상태 판정.
   - `Idle`: 세이프존 진입 가능, 알림 최소화.
   - `Caution`: 경고 배너 노출, AR 버튼 잠금.
   - `Danger`: 세이프티 커튼, 모든 인터랙션 차단.
3. 세이프존 입장 조건 만족 시 AR 상호작용 버튼 활성화.

## 3. AR 상호작용 흐름
1. 세이프존에서 `AR 시작` 버튼 터치 → AR 세션 로딩.
2. AR 카메라에서 NPC 포털/전투 포인트 배치.
3. 플레이어가 포털 터치 시 이벤트 상세 진입.
4. 이벤트 완료 후 보상 지급 → 인벤토리/퀘스트 상태 업데이트.

## 4. 무역/경제
1. 도시 세이프존 방문 → NPC 상인 AR/2D 인터페이스.
2. 현재 재화, 슬롯, 한도 표시 → 거래 선택.
3. 거래 확정 후 인벤토리 갱신, 가격 변동(기초 알고리즘) 적용.
4. 거래 로그 서버 전송, 일일 목표 반영.

## 5. 용병/전투
1. 특정 세이프존 또는 이벤트 트리거로 용병 모집.
2. 파티 편성 UI에서 슬롯 선택, 능력치 확인.
3. 전투 시작 → 간단 턴 기반 전투(AR 혹은 2D fallback).
4. 전투 결과에 따라 보상·경험치 지급.

## 6. 메타 진행
1. 경험치 축적 → 플레이어 레벨 상승.
2. 레벨/퀘스트 완료 조건에 따라 새로운 지역·용병 해금.
3. 데일리/주간 목표 체크 → 탐험 루프 재진입 유도.

## 7. 백엔드 연계
- 각 핵심 이벤트(세이프존 진입, 경고 상태 전환, 거래, 전투, 퀘스트 진행)는 서버에 실시간 혹은 배치로 로그 전송.
- 위험 패턴 감지 시 서버에서 푸시/알림 정책 적용.

## 미해결 사항
- 지도 SDK 및 세이프존/위험구역 데이터 구축 프로세스 상세화 필요.
- AR 포털 오브젝트 아트 방향, 전투 UI 와이어프레임 추가 설계 필요.
- 친구/멀티플레이 요소는 MVP 범위에서 제외, 추후 확장 예정.
